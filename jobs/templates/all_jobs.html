{% extends "base_generic.html" %}
{% load static %}
{% block title %}Jobs{% endblock %}

{% block content %}
<section class="uk-height-small uk-background-primary low-hero"></section>
<section class="uk-background-primary uk-padding">
	<h5 class="uk-heading-small s-heading uk-light">All Jobs</h5>
</section>

<section class="uk-container uk-padding-large">

			<form class="uk-search uk-search-large uk-search-default uk-width-3-4 uk-margin" action="{% url "jobs:search" %}" method="GET">
		    <button type="submit" uk-search-icon class="uk-search-icon-flip"></button>
			  <input class="uk-search-input uk-border-pill" type="search" placeholder="Search for Jobs or Occupations" name="filter">
			</form>
	<div uk-grid>
		<section class="uk-width-3-4 uk-padding">

			
		{% for contract in contracts %}
			<article class="uk-section uk-box-shadow-small uk-margin uk-padding">
				<div uk-grid>
					<h6 class="s-heading uk-width-expand"><a href="{% url "jobs:detail" contract.slug contract.id %}">{{contract.title}}</a></h6>
					<div class="notif-icons uk-width-auto">
						{{contract.created_on|timesince}} ago
					</div>
					<p class="uk-width-1-1">{{contract.description|truncatewords:50}}</p>
					
				</div>
			</article>
		{% endfor %}
			{# {{page_obj.number}} of {{paginator.num_pages}} #}

		<ul class="uk-pagination uk-flex-right">
			{% if page_obj.has_previous %}
			<li><a href="{% url "jobs:page" page_obj.previous_page_number %}"><span uk-pagination-previous></span></a></li>
			<li><a href="{% url "jobs:page" 1 %}">First</a></li>
			{% endif %}
			{% for page in paginator.page_range %}
				{% if page_obj.number is page %}
				<li class="uk-active"><a href="{% url "jobs:page" page %}">{{page}}</a></li>
				{% else %}
				<li><a href="{% url "jobs:page" page %}">{{page}}</a></li>
				{% endif %}
			{% endfor %}
			{% if page_obj.has_next %}
			<li><a href="{% url "jobs:page" paginator.num_pages %}">Last</a></li>
			<li><a href="{% url  "jobs:page" page_obj.next_page_number %}"><span uk-pagination-next></span></a></li>
			{% endif %}
		</ul>


		</section>

		<section class="uk-width-1-4 uk-background-secondary uk-light uk-padding uk-hidden">
			<ul>Arrange by
				<li>Date</li> 
				<li>Payment</li> 
			</ul>
		</section>

	</div>
</section>

{% endblock %}