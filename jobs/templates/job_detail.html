{% extends "base_generic.html" %}
{% load static humanize %}
{% block title %}Job: {{contract.title|truncatechars:30}}{% endblock %}

{% block content %}
<section class="uk-height-small uk-background-secondary low-hero"></section>
{# <section class="uk-background-secondary uk-padding"> #}
{# </section> #}

<section class="uk-container ">
	<div class="uk-child-width-1-1" uk-grid>
		<div class="uk-inline">
			<div class="uk-box-shadow-small uk-padding">
				<div class="uk-padding uk-padding-remove-horizontal uk-text-right">
					{% if applied %}
					<button class="uk-button-primary uk-button" disabled>{{applied}}</button>
					{% else %}
					<a href="{% url "jobs:apply" contract.slug contract.id %}"><button class="uk-button-primary uk-button">Apply for job</button></a>
					{% endif %}
					<p>
						<span class="uk-icon" uk-icon="calendar"></span>
						{{contract.created_on|date:"d M, Y"}} ({{contract.created_on|naturaltime}})
					</p>
					<p>
						<span class="uk-icon" uk-icon="user"></span>
						{{contract.client.user.get_full_name|default:contract.client.user.username}}
					</p>
				</div>
				<h4 class="uk-text-lead uk-text-large s-heading uk-margin-medium-bottom">{{contract.title}}</h4>
				<div>
					<p class=" uk-text-meta uk-text-bold">Job Description:</p>
					<p class="">{{contract.description|default:"Not Set"}}</p>
					<p class="uk-width-1-3 uk-text-meta uk-text-bold">Job Payment:</p>
					<p class="uk-width-2-3 uk-text-bold">â‚¦ {{contract.wage|intcomma|default:"Not Set"}}</p>
					<p class="uk-width-1-3 uk-text-meta uk-text-bold">Job Type:</p>
					<p class="uk-width-2-3 uk-text-bold">{{contract.get_work_type_display|default:"Not Set"}}</p>
					<p class="uk-width-1-3 uk-text-meta uk-text-bold">Occupations Needed:</p>
					<p class="uk-width-2-3 uk-text-bold">
						{% for occupation in contract.occupations.all %}
							<a class="chip" uk-tooltip="{{occupation.description}}">{{occupation}}</a>
						{% endfor %}
					<p class="uk-width-1-3 uk-text-meta uk-text-bold">Number of Workers Needed:</p>
					<p class="uk-width-2-3 uk-text-bold">{{contract.num_of_workers|default:"Not Set"}}</p>
				</div>
				
			</div>
		</div>
	</div>
</section>

{% endblock %}